<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<meta charset="utf-8">
		<title>C.O.D. Parking Map</title>
		<style>
			html, body, #map-canvas {
				height: 100%;
				margin: 0px;
				padding: 0px
			}
		</style>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>
		<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js'></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script>
			function ParkingDescription(){
				this.zoneRestriction = 0;
				this.streetCleaning = false;
				this.cost = 0;
				this.garage = false;
			}
		
			function ParkingDescription(zoneRestriction, streetCleaning, cost, garage){
				this.cost = cost;
				this.streetCleaning = streetCleaning;
				this.garage = false;
				this.zoneRestriction = zoneRestriction;
			}
		
			function Location(locationName, locationType, latitude, longitude, locationAddress, zIndex, parkingDescription) {
				this.locationName = locationName;
				this.locationType = locationType;
				this.latitude = latitude;
				this.longitude = longitude;
				this.locationAddress = locationAddress;
				this.zIndex = zIndex;
				this.parkingDescription = parkingDescription;
			}
			
			function Location(locationName, locationType, latitude, longitude, locationAddress){
				this.parkingDescription = null;
				this.zIndex = 1;
				this.latitude = latitude;
				this.locationType = locationType;
				this.locationAddress = locationAddress;
				this.locationName = locationName;
				this.longitude = longitude;
			}
		
		
		
		
			var globalLat = "";
			var globalLong = "";
			
			
			
			var callback = function (lat, lng){
				globalLat = lat;
				globalLong = lng;
			}
			
			function decode(callback, address){
				new google.maps.Geocoder().geocode({'address': address}, 
					function (results, status){
						var latitude = results[0].geometry.location.lat();
						var longitude = results[0].geometry.location.lng();
						callback(latitude, longitude);
					}
				);
			}
			
			function translateCODAddress(){
				console.debug( document.getElementById("lat").value + "\t" + 
						document.getElementById("long").value);
			
			};
	
			function initialize() {
				var CODAddress = "820 1st Street NE Washington DC 20002";
				decode(callback, CODAddress);
				
				var mapOptions = {
					zoom: 12,
					center: new google.maps.LatLng(38.9007471, -77.00649629999998)
				}
				
				var coordinates = 	[
										new Location("COD", "Work", 38.9007471, -77.00649629999998, "820 First Street NE Washington DC 20002"),
										new Location("Kristian", "Home", 38.9007471, -77.00649629999998, "820 First Street NE Washington DC 20002")
									];
				var addresses = 	[
										["COD", ]
									];
				var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
				setMarkers(map, coordinates);
			}

			var priorityIndex = 1;

			function setMarkers(map, locations) {
				for (var i = 0; i < locations.length; i++) {
					var location = locations[i];
					var myLatLng = new google.maps.LatLng(location.latitude, location.longitude);
					var name = location.locationName;
					var address = location.locationAddress;
					
					var myText = "<h3>" + name + "</h3>";
					var myInfoWindow = new google.maps.InfoWindow({
						content: myText
					});

					
					
					var marker = new google.maps.Marker({
						position: myLatLng,
						map: map,
						icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
						title: location.locationName,
						zIndex: location.zIndex,
						infoWindow: myInfoWindow
					});
					
					google.maps.event.addListener(marker, 'click', function() {
						myInfoWindow.open(map,marker);
					});
				}
			}

			
			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
	</head>
	<body>
			<div style="width: 80%; max-height:90%; text-align: center;" id="map-canvas"></div>
</form> 
	</body>
</html>